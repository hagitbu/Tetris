(this["webpackJsonpmy-tetris"]=this["webpackJsonpmy-tetris"]||[]).push([[0],{18:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var r,o=n(0),i=n.n(o),a=n(10),c=n.n(a),u=(n(18),n(2)),s=n(3),l=n(4),d=l.a.div(r||(r=Object(s.a)(["\n  width: auto;\n  box-sizing: border-box;\n  background: rgba(",", 0.8);\n  border: ",";\n  border-bottom-color: rgba(",", 0.1);\n  border-right-color: rgba(",", 1);\n  border-top-color: rgba(",", 1);\n  border-left-color: rgba(",", 0.3);\n"])),(function(t){return t.color}),(function(t){return 0===t.type?"0px solid":"4px solid"}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color})),b={0:{shape:[[0,0],[0,0]],colorDark:"0, 0, 0",colorLight:"250, 250, 250"},O:{shape:[["O","O"],["O","O"]],colorDark:"255, 255, 0",colorLight:"253, 230, 176"},I:{shape:[["I","I","I","I"],[0,0,0,0],[0,0,0,0],[0,0,0,0]],colorDark:"0, 255, 255",colorLight:"186, 229, 229"},T:{shape:[["T","T","T"],[0,"T",0],[0,0,0]],colorDark:"128, 0, 128",colorLight:"243, 209, 244"},L:{shape:[["L",0,0],["L",0,0],["L","L",0]],colorDark:"255, 127, 0",colorLight:"251, 198, 135"},J:{shape:[[0,0,"J"],[0,0,"J"],[0,"J","J"]],colorDark:"0, 0, 255",colorLight:"152, 214, 234"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],colorDark:"0, 255, 0",colorLight:"213, 236, 194"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],colorDark:"255, 0, 0",colorLight:"234, 144, 122"}},h=n.p+"static/media/bgDark.4c44b728.jpg",g=n.p+"static/media/bgLight.218b5dda.jpg",f=n(1),j=Object(o.createContext)();function p(t){var e=Object(o.useState)(!1),n=Object(u.a)(e,2),r=n[0],i=n[1],a=Object(o.useState)({statusFont:"#555",statusBg:"#e9e9e9",boardBorder:"#79b2c1",boardBg:"#a5a5a5",bgImage:g,newGameBg:"#1dbd98"}),c=Object(u.a)(a,1)[0],s=Object(o.useState)({statusFont:"lightGray",statusBg:"black",boardBorder:"#888",boardBg:"#333",bgImage:h,newGameBg:"#8a0049"}),l=Object(u.a)(s,1)[0];return Object(f.jsx)(j.Provider,{value:{isLightTheme:r,light:c,dark:l,toggleTheme:function(){i(!r)}},children:t.children})}var x,O,m,v,w=function(t){var e=t.type,n=Object(o.useContext)(j),r=n.isLightTheme;n.light,n.dark,n.toggleTheme;return Object(f.jsx)(d,{type:e,color:r?b["".concat(e)].colorLight:b["".concat(e)].colorDark})},y=i.a.memo(w),k=l.a.div(x||(x=Object(s.a)(["\n    margin: 50px auto;\n    display: grid;\n    grid-template-rows: repeat(",", calc(20vw / ","));\n    //repeat (how many times to repeat, the size of each one)\n    //calc- we want each cell to have the same width and height, because width is 1 fr we make the calc so the height would be the same as the width\n    \n    grid-template-columns: repeat(",", 1fr );\n    max-width: 20vw;\n    min-width: 150px;\n    background: ",";\n    grid-gap: 1px;\n    border: 4px solid ",";\n"])),(function(t){return t.height}),(function(t){return t.width}),(function(t){return t.width}),(function(t){return t.boardBg}),(function(t){return t.boardBorder})),B=function(t){var e=t.board,n=Object(o.useContext)(j),r=n.isLightTheme,i=n.light,a=n.dark,c=r?i:a;return Object(f.jsx)(k,{boardBorder:c.boardBorder,boardBg:c.boardBg,width:e[0].length,height:e.length,children:e.map((function(t){return t.map((function(t,e){return Object(f.jsx)(y,{type:t[0]},e)}))}))})},L=l.a.button(O||(O=Object(s.a)(["\n    color: white;\n    font-size: larger;\n    border: 1px solid white;\n    border-radius: 10px;\n    padding: 15px 40px;\n    margin: 15px;\n    background-color: ",";\n    font-family: Pixel, Arial, Helvetica, sans-serif;\n    cursor: pointer;\n"])),(function(t){return t.newGameBg})),S=function(t){var e=t.onClickFunc,n=t.text,r=t.style,i=Object(o.useContext)(j),a=i.isLightTheme,c=i.light,u=i.dark,s=a?c:u;return Object(f.jsx)(L,{style:r||{},newGameBg:s.newGameBg,onClick:e,children:n})},T=l.a.div(m||(m=Object(s.a)(["\n    color: ",";\n    font-size: larger;\n    border: 1px solid gray;\n    border-radius: 10px;\n    padding: 15px 40px;\n    margin: 15px;\n    background-color: ",";\n\n\n"])),(function(t){return t.statusFont}),(function(t){return t.statusBg})),C=function(t){var e=t.text,n=t.value,r=Object(o.useContext)(j),i=r.isLightTheme,a=r.light,c=r.dark,u=i?a:c;return Object(f.jsxs)(T,{statusFont:u.statusFont,statusBg:u.statusBg,children:[e," ",n]})},I=l.a.div(v||(v=Object(s.a)(["\n    box-sizing: border-box;\n    background: url(",");\n    height: 100vh;\n    overflow: auto;\n    background-repeat: repeat;\n"])),(function(t){return t.bgImage})),D=10,F=function(){var t=new Array(D);t.fill([0,"clear"]);var e=new Array(20);return e.fill(t),e},G=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=0;o<t.tetromino.length;o++)for(var i=0;i<t.tetromino[0].length;i++)if(0!==t.tetromino[o][i]&&(t.position.y+r+o>19||t.position.x+n+i>9||t.position.x+n+i<0||"clear"!==e[t.position.y+r+o][t.position.x+n+i][1]))return!0;return!1},J=function(t,e){var n=Object(o.useState)(F()),r=Object(u.a)(n,2),i=r[0],a=r[1],c=Object(o.useState)(0),s=Object(u.a)(c,2),l=s[0],d=s[1],b=Object(o.useState)(!1),h=Object(u.a)(b,2),g=h[0],f=h[1],j=Object(o.useState)(1e3),p=Object(u.a)(j,2),x=p[0],O=p[1],m=Object(o.useState)(0),v=Object(u.a)(m,2),w=v[0],y=v[1],k=Object(o.useState)(0),B=Object(u.a)(k,2),L=B[0],S=B[1],T=function(t){1===t?S((function(t){return t+40*(w+1)})):2===t?S((function(t){return t+100*(w+1)})):3===t?S((function(t){return t+300*(w+1)})):t>=4&&S((function(t){return t+1200*(w+1)}))},C=function(t){t>=50?(y(5),O(150)):t>=40?(y(4),O(250)):t>=30?(y(3),O(400)):t>=20?(y(2),O(550)):t>=10?(y(1),O(700)):(y(0),O(1e3))},I=function(n){var r=n.map((function(t){return t.map((function(t){return"clear"===t[1]?[0,"clear"]:t}))}));return t.tetromino.map((function(e,n){return e.map((function(e,o){0!==e&&("clear"!==r[t.position.y+n][t.position.x+o][1]&&(O(null),f(!0)),r[t.position.y+n][t.position.x+o]=[e,"".concat(t.unifiedWithBoard?"unified":"clear")])}))})),t.unifiedWithBoard&&(!function(t){for(var e=0,n=0;n<t.length;n++){for(var r=0,o=0;o<t[0].length;o++)"unified"===t[n][o][1]&&r++;if(r===t[0].length){e++,d((function(t){return t+1}));for(var i=n;i>0;i--)for(var a=0;a<t[0].length;a++)t[i][a]=t[i-1][a]}}T(e)}(r),0===t.position.y?(f(!0),O(null)):e()),r};return Object(o.useEffect)((function(){a((function(t){return I(t)}))}),[t]),Object(o.useEffect)((function(){C(l)}),[l]),[i,a,l,d,g,f,x,O,w,C,L,S]},W=n(5),A=function(){var t=Object(o.useState)({position:{x:3,y:0},tetromino:b[0].shape,unifiedWithBoard:!1}),e=Object(u.a)(t,2),n=e[0],r=e[1];return[n,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r((function(r){return Object(W.a)(Object(W.a)({},r),{},{position:{x:r.position.x+t,y:r.position.y+e},unifiedWithBoard:n})}))},function(){var t=function(){var t="OITLJSZ",e=t.charAt(Math.floor(Math.random()*t.length));return b[e]}().shape;r({position:{x:t.length>3?3:4,y:0},tetromino:t,unifiedWithBoard:!1})},function(t){for(var e=n.tetromino.slice(),o=[],i=0;i<e.length;i++)o[i]=e[i].slice();for(var a=0;a<e.length;a++)for(var c=0;c<e[0].length;c++)o[a][c]=e[e.length-1-c][a];G({position:n.position,tetromino:o,unifiedWithBoard:n.unifiedWithBoard},t,0,0)||r((function(t){return Object(W.a)(Object(W.a)({},t),{},{tetromino:o})}))}]};var E=function(){var t=A(),e=Object(u.a)(t,4),n=e[0],r=e[1],i=e[2],a=e[3],c=J(n,i),s=Object(u.a)(c,12),l=s[0],d=s[1],b=s[2],h=s[3],g=s[4],p=s[5],x=s[6],O=s[7],m=s[8],v=s[9],w=s[10],y=s[11],k=Object(o.useContext)(j),L=k.isLightTheme,T=k.light,D=k.dark,W=k.toggleTheme,E=L?T:D,Z=function(){G(n,l,0,1)?r(0,0,!0):r(0,1)};return function(t,e){var n=Object(o.useRef)();Object(o.useEffect)((function(){n.current=t}),[t]),Object(o.useEffect)((function(){if(null!==e){var t=setInterval((function(){n.current()}),e);return function(){clearInterval(t)}}}),[e])}((function(){Z()}),x),Object(f.jsxs)(I,{bgImage:E.bgImage,role:"button",tabIndex:"0",onKeyDown:function(t){return function(t){t.preventDefault(),g||(37!==t.keyCode||G(n,l,-1)?38===t.keyCode?a(l):39!==t.keyCode||G(n,l,1)?40===t.keyCode&&(O(null),Z()):r(1,0):r(-1,0))}(t)},onKeyUp:function(t){var e=t.keyCode;g||40===e&&v(b)},children:[Object(f.jsx)("h1",{style:{color:"white",marginTop:"3vh",textAlign:"center",textShadow:"4px 4px 19px rgba(150, 150, 152, 1)"},children:"TETRIS"}),Object(f.jsxs)("div",{style:{position:"relative",width:"20vw",margin:"auto"},children:[Object(f.jsx)(B,{board:l}),Object(f.jsx)("div",{style:{width:"fit-content",position:"absolute",top:"0",left:"-250px"},children:Object(f.jsxs)("aside",{style:{width:"fit-content"},children:[g?Object(f.jsx)(C,{text:"Game Over"}):Object(f.jsx)(f.Fragment,{}),Object(f.jsxs)("div",{children:[Object(f.jsx)(C,{text:"Score",value:w}),Object(f.jsx)(C,{text:"Rows",value:b}),Object(f.jsx)(C,{text:"Level",value:m})]}),Object(f.jsx)(S,{onClickFunc:function(){d(F()),p(!1),i(),h(0),v(0),y(0)},text:"New Game"})]})}),Object(f.jsx)(S,{style:{position:"absolute",top:0,left:"22vw"},onClickFunc:W,text:"change mode"})]})]})},Z=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(p,{children:Object(f.jsx)(E,{})})})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),r(t),o(t),i(t),a(t)}))};c.a.render(Object(f.jsx)(Z,{}),document.getElementById("root")),z()}},[[22,1,2]]]);
//# sourceMappingURL=main.571a157f.chunk.js.map